/*! This is uglify test - 2019-09-15 */
define(["require","exports"],function(t,e){"use strict";function r(t,e){this.dbname="",this.version=1,this.table="",this.dbs="",this.store="",window.indexedDB?(this.dbname=t,this.version=e):alert("浏览器不支持")}Object.defineProperty(e,"__esModule",{value:!0});var n=new(r.prototype.connect=function(e){var r=this;r.table=e;var t=indexedDB.open(this.dbname,this.version);t.onerror=function(){alert("数据库打开失败")},t.onupgradeneeded=function(t){r.dbs=t.target.result,r.dbs.createObjectStore(e)},t.onsuccess=function(t){r.dbs=t.target.result}},r.prototype.add=function(t,e,r){var n=this,o=n.dbs.transaction(n.table,"readwrite").objectStore(n.table).put(t,e);o.onsuccess=function(){r(n.returnData(2001,o,"已保存"))},o.onerror=function(){r(n.returnData(2002,"","保存失败"))}},r.prototype.del=function(t,e){var r=this,n=r.dbs.transaction(r.table,"readwrite").objectStore(r.table).delete(t);n.onsuccess=function(){e(r.returnData(2001,n,"删除成功"))},n.onerror=function(){e(r.returnData(2002,"","删除失败"))}},r.prototype.edit=function(t,e,r){var n=this,o=n.dbs.transaction(n.table,"readwrite").objectStore(n.table).put(t,e);o.onsuccess=function(){r(n.returnData(2001,o,"修改成功"))},o.onerror=function(){r(n.returnData(2002,"","修改失败"))}},r.prototype.lst=function(t,e){void 0===t&&(t=1);var r=this,n=r.dbs.transaction(r.table,"readwrite").objectStore(r.table).getAll();n.onsuccess=function(){e(r.returnData(2001,n,"查询成功"))},n.onerror=function(){e(r.returnData(2002,"","查询失败"))}},r.prototype.read=function(t,e){var r=this,n=r.dbs.transaction(r.table,"readwrite").objectStore(r.table).get(t);n.onsuccess=function(){e(r.returnData(2001,n,"查询成功"))},n.onerror=function(){e(r.returnData(2002,"","查询失败"))}},r.prototype.clear=function(t){void 0===t&&(t=null);var e=this,r=e.dbs.transaction(e.table,"readwrite").objectStore(e.table).clear();r.onsuccess=function(){t(e.returnData(2001,"","清除成功"))},r.onerror=function(){t(e.returnData(2002,"","清除失败"))}},r.prototype.count=function(t){var e=this,r=e.dbs.transaction(e.table,"readwrite").objectStore(e.table).count();r.onsuccess=function(){t(e.returnData(2001,r,"清除成功"))},r.onerror=function(){t(e.returnData(2002,"","清除失败"))}},r.prototype.returnData=function(t,e,r){return{code:t,data:e,msg:r}},r)("article",1);e.idb=n});